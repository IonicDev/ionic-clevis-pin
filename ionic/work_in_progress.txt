Installing this pin:

Prerequisites:

Install Clevis with apt or yum
Install Machina CLI

Copy clevis-decrypt-ionic and clevis-encrypt-ionic to /bin/

Using the pin:

Encryption

"clevis encrypt ionic '{}' < <(echo "Hello World") > cyptotext.jwe"
"clevis encrypt ionic '{}' < plain.txt > cyptotext.jwe"

Decryption

"clevis decrypt ionic < cyptotext.jwe"
"clevis decrypt ionic < cyptotext.jwe > new_plain.txt"


Additional arguments can be specified inside the JSON field:

ex: {"devicetype":"plaintext","devicefile","path/to/persistor.pt"}


Remaining work:
Add validation of attributes before key creation
Add instructions for luks and automounting

Publishing options:

Either we push for inclusion into the clevis project on github or we make and publish our own
installers with clevis and machina as dependencies. Either approach requires machina being available
via apt and yum.
